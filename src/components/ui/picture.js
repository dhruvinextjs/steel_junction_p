import { cn } from "@/lib/utils";
import Image from "next/image";
// import { dynamicBlurDataUrl } from "@/lib/dynamicBlurDataUrl";

export default function Picture({
  className,
  src,
  alt,
  width,
  height,
  isStatic,
  ...props
}) {
  if (!isStatic) {
    props.blurDataURL = src.includes("http")
      ? "data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA4IDUnPgogICAgICA8ZmlsdGVyIGlkPSdiJyBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9J3NSR0InPgogICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249JzInIC8+CiAgICAgIDwvZmlsdGVyPgoKICAgICAgPGltYWdlIHByZXNlcnZlQXNwZWN0UmF0aW89J25vbmUnIGZpbHRlcj0ndXJsKCNiKScgeD0nMCcgeT0nMCcgaGVpZ2h0PScxMDAlJyB3aWR0aD0nMTAwJScgCiAgICAgIGhyZWY9J2RhdGE6aW1hZ2UvYXZpZjtiYXNlNjQsLzlqLzJ3QkRBQWdHQmdjR0JRZ0hCd2NKQ1FnS0RCUU5EQXNMREJrU0V3OFVIUm9mSGgwYUhCd2dKQzRuSUNJc0l4d2NLRGNwTERBeE5EUTBIeWM1UFRneVBDNHpOREwvMndCREFRa0pDUXdMREJnTkRSZ3lJUndoTWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpJeU1qTC93Z0FSQ0FBTEFCQURBU0lBQWhFQkF4RUIvOFFBRlFBQkFRQUFBQUFBQUFBQUFBQUFBQUFBQkFML3hBQVZBUUVCQUFBQUFBQUFBQUFBQUFBQUFBQURCUC9hQUF3REFRQUNFQU1RQUFBQlZJblN0Ly9FQUJnUUFRQURBUUFBQUFBQUFBQUFBQUFBQUFJQkVoTUQvOW9BQ0FFQkFBRUZBb2R6dWlPQ25kZzIvOFFBR0JFQUFnTUFBQUFBQUFBQUFBQUFBQUFBQUFFQ0F4TC8yZ0FJQVFNQkFUOEJoWHBILzhRQUZ4RUFBd0VBQUFBQUFBQUFBQUFBQUFBQUFBRURFdi9hQUFnQkFnRUJQd0dsTXMvL3hBQWJFQUFCQkFNQUFBQUFBQUFBQUFBQUFBQUJBQkF4VVJFU0lmL2FBQWdCQVFBR1B3STNLQU0wVzJ4MWYvL0VBQndRQVFBQ0FRVUFBQUFBQUFBQUFBQUFBQUVBRVlFaE1VRlJvZi9hQUFnQkFRQUJQeUZxWmdnVUY0SHQzRVV2UkxURTlFVC8yZ0FNQXdFQUFnQURBQUFBRUp2L3hBQVhFUUFEQVFBQUFBQUFBQUFBQUFBQUFBQUFBUkZCLzlvQUNBRURBUUUvRUtFZW4vL0VBQmNSQVFBREFBQUFBQUFBQUFBQUFBQUFBQUVBRVVILzJnQUlBUUlCQVQ4UXBSTW4vOFFBSEJBQkFBTUFBZ01BQUFBQUFBQUFBQUFBQVFBUklURkJVWEd4LzlvQUNBRUJBQUUvRUhkMmdtMTYxbThMR0FiUkVBMHE2MzdDclpUR0MrVlJHRytJVXYyZHovL1onIC8+CiAgICA8L3N2Zz4="
      : `/_next/image?url=${src}&w=16&q=1`;
  }
  return (
    <Image
      className={cn("flex center", className)}
      src={src}
      alt={alt || "Image"}
      height={height || 200}
      width={width || 200}
      priority={false}
      loading="lazy"
      placeholder="blur"
      {...props}
    />
  );
}
